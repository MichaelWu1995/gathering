(function(e){function t(t){for(var s,n,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(s=!1)}s&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},r={app:0},i=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},2354:function(e,t,a){},2535:function(e,t,a){"use strict";var s=a("fc4b"),r=a.n(s);r.a},"2f61":function(e,t,a){},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("div",[a("v-toolbar",{staticClass:"deep-purple darken-2",attrs:{dark:"",dense:""}},[a("v-app-bar-nav-icon",{staticClass:"hidden-sm-and-up",on:{click:function(t){e.sideNav=!e.sideNav}}}),a("v-toolbar-title",[a("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[e._v("Gathering")])],1),a("v-spacer"),e._l(e.menuItems,(function(t,s){return a("v-toolbar-items",{key:s,staticClass:"hidden-xs-only"},[a("v-btn",{staticClass:"transparent",attrs:{text:"",router:"",to:t.path}},[a("v-icon",{attrs:{left:""}},[e._v(e._s(t.icon))]),e._v(" "+e._s(t.title)+" ")],1)],1)})),a("v-toolbar-items",{staticClass:"hidden-xs-only"},[e.userIsAutherticated?a("v-btn",{staticClass:"transparent",attrs:{text:""},on:{click:e.onLogout}},[a("v-icon",{attrs:{left:""}},[e._v("exit_to_app")]),e._v("Logout ")],1):e._e()],1)],2)],1),a("v-main",[a("transition",[a("router-view")],1)],1),a("v-footer",{staticClass:"deep-purple darken-2",attrs:{dark:""}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e._v(" © "+e._s((new Date).getFullYear())+" — "),a("strong",[e._v("Michael Wu")])])],1),a("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:e.sideNav,callback:function(t){e.sideNav=t},expression:"sideNav"}},[a("v-list",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticStyle:{"font-size":"25px"}},[e._v("Gathering")]),a("v-list-item-subtitle",[e._v("Let's Hang Out Together!")])],1)],1),a("v-list-item-group",{attrs:{mandatory:"",color:"primary"}},[e._l(e.menuItems,(function(t,s){return a("v-list-item",{key:s,attrs:{router:"",to:t.path}},[a("v-list-item-icon",[a("v-icon",{attrs:{left:""}},[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),e.userIsAutherticated?a("v-list-item",{attrs:{router:"",to:"/"},on:{click:e.onLogout}},[a("v-list-item-icon",[a("v-icon",{attrs:{left:""}},[e._v("exit_to_app")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Logout")])],1)],1):e._e()],2)],1)],1)],1)},i=[],n=a("5530"),o=a("2f62"),c={data:function(){return{sideNav:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["logout"])),{},{onLogout:function(){this.logout(),this.$router.push("/").catch((function(){}))}}),computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["user"])),{},{menuItems:function(){var e=[{icon:"face",title:"Sign Up",path:"/signup"},{icon:"lock_open",title:"Sign In",path:"/signin"}];return this.userIsAutherticated&&(e=[{icon:"supervisor_account",title:"View Gatherings",path:"/gatherings"},{icon:"room",title:"Organise Gatherings",path:"/newGathering"},{icon:"perm_identity",title:"My Gatherings",path:"/profile"}]),e},userIsAutherticated:function(){return null!==this.user&&void 0!==this.user}})},l=c,u=a("2877"),d=a("6544"),m=a.n(d),p=a("7496"),v=a("5bc1"),f=a("8336"),h=a("62ad"),g=a("553a"),b=a("132d"),w=a("8860"),j=a("da13"),C=a("5d23"),_=a("1baa"),y=a("34c3"),k=a("f6c4"),x=a("f774"),V=a("2fa4"),I=a("71d9"),M=a("2a7f"),O=Object(u["a"])(l,r,i,!1,null,"70c80727",null),D=O.exports;m()(O,{VApp:p["a"],VAppBarNavIcon:v["a"],VBtn:f["a"],VCol:h["a"],VFooter:g["a"],VIcon:b["a"],VList:w["a"],VListItem:j["a"],VListItemContent:C["a"],VListItemGroup:_["a"],VListItemIcon:y["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"],VMain:k["a"],VNavigationDrawer:x["a"],VSpacer:V["a"],VToolbar:I["a"],VToolbarItems:M["a"],VToolbarTitle:M["b"]});var U=a("8c4f"),E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",align:"center"}},[e.loading?a("v-progress-circular",{attrs:{indeterminate:"",color:"primary",width:7,size:70}}):e._e()],1)],1),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12"}},[e.loading?e._e():a("v-carousel",{attrs:{cycle:""}},e._l(e.featuredMeetups,(function(t,s){return a("v-carousel-item",{key:s,staticStyle:{cursor:"pointer"},attrs:{src:t.imageurl,"reverse-transition":"fade-transition",transition:"fade-transition",cover:""},on:{click:function(a){return e.loadMeetupInfo(t.id)}}},[a("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},[a("div",{staticClass:"title"},[e._v(e._s(t.title))])])],1)})),1)],1)],1),a("v-row",[a("v-col",{attrs:{col:"12",md:"12",align:"center",justify:"center"}},[a("p",{staticClass:"para primary--text"},[e._v("Let's Hang Out Together!")])])],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-row",e._l(e.welcomeData,(function(t){return a("v-col",{key:t.id,attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"350",outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline mb-1"},[e._v(e._s(t.title))]),a("v-list-item-subtitle",{staticClass:"mt-2",staticStyle:{"font-size":"15px"}},[e._v(e._s(t.subtitle))])],1),a("v-list-item-avatar",[a("v-icon",{attrs:{tile:"",size:"40",color:"deep-purple darken-2"}},[e._v(e._s(t.icon))])],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"primary--text",attrs:{text:"",router:"",to:t.path}},[e._v(e._s(t.btnTitle))])],1)],1)],1)})),1)],1)],1)],1)},T=[],L={data:function(){return{welcomeData:[{id:1,icon:"supervisor_account",title:"Explore Gatherings",subtitle:"Various gatherings created by different users! Let's participate together",btnTitle:"Explore Gatherings",path:"/gatherings"},{id:2,icon:"location_on",title:"Organise Gathings",subtitle:"Customise your own gatherings. Easy to create and user-friendly interfaces.",btnTitle:"Organise Gatherings",path:"/newGathering"},{id:3,icon:"event",title:"My Gatherings",subtitle:"Easy to manage both your created and registered gatherings on the calendar.",btnTitle:"Manage Gatherings",path:"/profile"}]}},methods:{loadMeetupInfo:function(e){this.$router.push("/gatherings/"+e)}},computed:Object(n["a"])(Object(n["a"])({},Object(o["e"])(["loading"])),Object(o["c"])(["featuredMeetups"]))},S=L,R=(a("e0c4"),a("b0af")),F=a("99d9"),P=a("5e66"),z=a("3e35"),A=a("a523"),$=a("ce7e"),H=a("8270"),Y=a("490a"),q=a("0fd9"),G=Object(u["a"])(S,E,T,!1,null,"8fc193dc",null),B=G.exports;m()(G,{VBtn:f["a"],VCard:R["a"],VCardActions:F["a"],VCarousel:P["a"],VCarouselItem:z["a"],VCol:h["a"],VContainer:A["a"],VDivider:$["a"],VIcon:b["a"],VListItem:j["a"],VListItemAvatar:H["a"],VListItemContent:C["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"],VProgressCircular:Y["a"],VRow:q["a"]});var N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6","offset-sm":"3",align:"center"}},[a("h2",{staticClass:"primary--text",staticStyle:{"font-size":"30px"}},[e._v("Find What you are interested in")]),a("v-text-field",{staticClass:"mt-5",attrs:{label:"Gathering","prepend-inner-icon":"title",placeholder:"Serach your interested Gatherings...",clearable:"","append-icon":"search",outlined:""},on:{change:function(t){return e.searchByTitle(e.page)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1)],1),a("v-row",e._l(e.searchByTitle(e.page),(function(t){return a("v-col",{key:t.id,attrs:{cols:"12",sm:"6",lg:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"350"}},[a("v-img",{attrs:{height:"200px",src:t.imageurl,cover:""}}),a("v-card-title",{attrs:{"primary-title":""}},[e._v(e._s(t.title))]),a("v-card-text",{staticClass:"text--primary"},[a("div",{staticClass:"information"},[a("v-icon",[e._v("location_on")]),a("span",{staticClass:"ml-1"},[e._v(e._s(t.location))])],1),a("div",{staticClass:"mt-3 information2"},[a("v-icon",[e._v("event")]),a("span",{staticClass:"ml-1"},[e._v(e._s(e._f("dataFormat")(t.date)))])],1)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"primary--text",attrs:{text:"",route:"",to:"/gatherings/"+t.id}},[e._v("Explore")])],1)],1)],1)})),1),a("br"),a("v-pagination",{attrs:{length:e.isUserEnterKeywords?e.totalLength:e.searchLength,circle:""},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},K=[],W=(a("4de4"),a("caad"),a("fb6a"),a("2532"),{data:function(){return{keywords:"",page:1,searchLength:0}},methods:{searchByTitle:function(e){var t=this;if(null===this.keywords||""===this.keywords)return this.loadedMeetups.slice(6*e-6,6*e);var a=this.loadedMeetups.filter((function(e){return e.title.toLowerCase().includes(t.keywords)}));return console.log(this.isUserEnterKeywords),a.length%6===0?this.searchLength=a.length/6:this.searchLength=parseInt(a.length/6)+1,a.slice(6*e-6,6*e)},setPageLength:function(e){return this.loadedMeetups.length%e===0?this.loadedMeetups.length/e:parseInt(this.loadedMeetups.length/e)+1}},watch:{page:function(e){console.log(e)},pageLength:function(e){return e}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["loadedMeetups","loading"])),{},{totalLength:function(){var e=this.setPageLength(6);return e},isUserEnterKeywords:function(){return null===this.keywords||""===this.keywords}})}),Q=W,J=(a("2535"),a("adda")),X=a("891e"),Z=a("8654"),ee=Object(u["a"])(Q,N,K,!1,null,"27e48d92",null),te=ee.exports;m()(ee,{VBtn:f["a"],VCard:R["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:h["a"],VContainer:A["a"],VIcon:b["a"],VImg:J["a"],VPagination:X["a"],VRow:q["a"],VSpacer:V["a"],VTextField:Z["a"]});var ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6","offset-sm":"3"}},[a("h2",{staticClass:"primary--text"},[e._v("Create a New Gathering")])])],1),a("v-form",{on:{submit:function(t){return t.preventDefault(),e.addToList(t)}},model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6","offset-sm":"3"}},[a("v-text-field",{attrs:{label:"Title",rules:e.titleRules,"prepend-icon":"title",clearable:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6","offset-sm":"3"}},[a("v-autocomplete",{attrs:{label:"Location","prepend-icon":"location_on",loading:e.isLoading,"search-input":e.search,"item-text":"place",items:e.items,rules:e.locationRules,clearable:"","append-icon":"search","return-object":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-list-item-avatar",[a("v-icon",[e._v("location_on")])],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:e._s(t.item.place)}})],1)]}}]),model:{value:e.location,callback:function(t){e.location=t},expression:"location"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6","offset-sm":"3"}},[a("v-file-input",{attrs:{rules:e.imageRules,accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick an Image","prepend-icon":"mdi-camera",label:"Image URL"},on:{change:e.onFilePicked}})],1)],1),e.image?a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6","offset-sm":"3",align:"center"}},[a("img",{attrs:{src:e.imageurl,width:"90%",height:"350px"}})])],1):e._e(),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6","offset-sm":"3"}},[a("v-textarea",{attrs:{label:"Description",rules:e.descRules,"prepend-icon":"description",clearable:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",sm:"6","offset-sm":"3"}},[a("v-icon",{staticClass:"mr-2"},[e._v("schedule")]),a("v-label",[e._v("Choose Date and Time")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6","offset-sm":"3"}},[a("v-row",[a("v-col",{attrs:{sm:"6",align:"center"}},[a("v-date-picker",{model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("v-col",{attrs:{sm:"6",align:"center"}},[a("v-time-picker",{model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6","offset-sm":"3",align:"center"}},[a("v-btn",{staticClass:"primary",attrs:{disabled:!e.isFormValid,type:"submit",large:""}},[e._v("Create Gathering")])],1)],1)],1)],1)},se=[],re=(a("a4d3"),a("e01a"),a("4160"),a("ac1f"),a("466d"),a("841c"),a("159b"),{data:function(){return{title:"",titleRules:[function(e){return!!e||"Title is required"},function(e){return e&&e.length<=20||"Title must be less than 20 characters"}],location:"",locationRules:[function(e){return!!e||"Location is required"}],description:"",descRules:[function(e){return!!e||"Description is required"},function(e){return e&&e.length<=150||"Title must be less than 150 characters"}],imageurl:"",image:null,imageRules:[function(e){return!!e||"Image is required"},function(e){return!e||e.size<2e6||"Image size should be less than 2 MB!"}],isFormValid:!1,date:(new Date).toISOString().substr(0,10),time:new Date,model:"",isLoading:!1,search:null,items:[]}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["newCreateMeetUp"])),{},{addToList:function(){if(this.isFormValid&&this.image){var e={title:this.title,location:this.location.place,latitude:this.location.latitude,longitude:this.location.longitude,image:this.image,description:this.description,date:this.registeredDateandTime};this.newCreateMeetUp(e),this.$router.push("/meetups")}},onFilePicked:function(e){var t=this,a=new FileReader;a.addEventListener("load",(function(){t.imageurl=a.result})),e&&a.readAsDataURL(e),this.image=e}}),computed:{registeredDateandTime:function(){var e=new Date(this.date);if("string"===typeof this.time){var t=this.time.match(/^(\d+)/)[1],a=this.time.match(/:(\d+)/)[1];e.setHours(t),e.setMinutes(a)}else e.setHours(this.time.getHours()),e.setMinutes(this.time.getMinutes()),e.setSeconds(this.time.getSeconds());return e}},watch:{search:function(e){var t=this,a=/[`~!@#$%^&*()_+<>?:"{},./;'\\[\]]/im;if(null===this.search||""===this.search||a.test(this.search))this.items=[];else{this.isLoading=!0;var s="https://api.mapbox.com/geocoding/v5/mapbox.places/",r="pk.eyJ1IjoibWljaGFlbDEwIiwiYSI6ImNrN2NyMjFndDA2eWYzbG96Yjh5dXlqajQifQ.YenjA5L-qhtHKcbwTGd0Qg",i="country,region,district,place,address,poi";this.$http.get(s+e+".json?types="+i+"&access_token="+r).then((function(e){t.items=[],t.isLoading=!1;var a=e.data.features;console.log(a),a.forEach((function(e){t.items.push({place:e.place_name,longitude:e.center[0],latitude:e.center[1]})}))})).catch((function(e){t.isLoading=!1,console.log(e)}))}}}}),ie=re,ne=a("c6a6"),oe=a("2e4b"),ce=a("23a7"),le=a("4bd4"),ue=a("24c9"),de=a("a844"),me=a("c964"),pe=Object(u["a"])(ie,ae,se,!1,null,"b017646e",null),ve=pe.exports;m()(pe,{VAutocomplete:ne["a"],VBtn:f["a"],VCol:h["a"],VContainer:A["a"],VDatePicker:oe["a"],VFileInput:ce["a"],VForm:le["a"],VIcon:b["a"],VLabel:ue["a"],VListItemAvatar:H["a"],VListItemContent:C["a"],VListItemTitle:C["c"],VRow:q["a"],VTextField:Z["a"],VTextarea:de["a"],VTimePicker:me["a"]});var fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[e.loading?a("v-row",[a("v-col",{attrs:{cols:"12",align:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"primary",width:7,size:70}})],1)],1):a("v-row",[a("v-col",{attrs:{cols:"12",md:"10","offset-sm":"1",sm:"12"}},[a("v-card",[a("v-card-title",[a("h4",{staticClass:"primary--text"},[e._v(e._s(e.meetup.title))]),e.userIsAuthenticated()&&e.userIsCreator()?[a("v-spacer"),a("editMeetUp",{attrs:{currentMeetup:e.meetup}})]:e._e()],2),a("v-row",[a("v-col",{staticClass:"mt-5",attrs:{cols:"12",sm:"6"}},[a("mapbox",{staticClass:"pa-4",attrs:{mapWidth:"100%",mapHeight:"500px",lon:e.meetup.longitude,lat:e.meetup.latitude}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card",{attrs:{flat:""}},[a("v-subheader",[e._v("Details")]),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("location_on")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"wrap-text"},[e._v(e._s(e.meetup.location))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("event")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(e._f("dataFormat")(e.meetup.date))+" ")])],1),a("div",[e.userIsAuthenticated()&&e.userIsCreator()?a("editMeetupDate",{attrs:{meetupDate:e.meetup}}):e._e(),e.userIsAuthenticated()&&e.userIsCreator()?a("editMeetupTime",{attrs:{meetupTime:e.meetup}}):e._e()],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("description")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(e.meetup.description)+" ")])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("person")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.meetup.number))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("image")])],1),a("v-list-item-content",[a("v-img",{attrs:{height:"250px",src:e.meetup.imageurl}})],1)],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),e.userIsAuthenticated()?a("v-btn",{staticClass:"primary",on:{click:function(t){return e.setCreatorEditor(!e.showCreatorEditor)}}},[e._v("Comment")]):e._e(),e.userIsAuthenticated()&&!e.userIsCreator()?a("registerMeetup",{attrs:{meetupId:e.meetup.id,number:e.meetup.number}}):e._e()],1)],1)],1)],1),a("br"),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"10","offset-sm":"1",sm:"12"}},[e.showCreatorEditor?a("editor",{attrs:{meetupId:this.id}}):e._e(),a("comment",{attrs:{meetupId:this.id}}),e.showUpdateEditor?a("updateEditor",{attrs:{meetupId:this.id}}):e._e()],1)],1)],1)},he=[],ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"350px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{outlined:"",fab:"",small:"",color:"indigo"}},s),[a("v-icon",[e._v("edit")])],1)]}}]),model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}},[a("v-card",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-title",[e._v("Edit Meetup")])],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Title",name:"title",id:"title","prepend-icon":"title",rules:e.titleRules,required:"",clearable:""},model:{value:e.editedTitle,callback:function(t){e.editedTitle=t},expression:"editedTitle"}}),a("v-textarea",{attrs:{label:"Description",name:"description",id:"description","prepend-icon":"description",rules:e.descRules,required:"",clearable:""},model:{value:e.editedDescription,callback:function(t){e.editedDescription=t},expression:"editedDescription"}})],1)],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-actions",[a("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:function(t){e.editDialog=!1}}},[e._v("Close")]),a("v-spacer"),a("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:e.onSaveChanges}},[e._v("Save")])],1)],1)],1)],1)],1)],1)},be=[],we=(a("498a"),{data:function(){return{editedTitle:this.currentMeetup.title,editedDescription:this.currentMeetup.description,descRules:[function(e){return!!e||"Description is required"},function(e){return e&&e.length<=150||"Title must be less than 150 characters"}],titleRules:[function(e){return!!e||"Title is required"},function(e){return e&&e.length<=20||"Title must be less than 20 characters"}],editDialog:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["updateMeetUpData"])),{},{onSaveChanges:function(){null!==this.editedTitle&&""!==this.editedTitle.trim()&&null!==this.editedDescription&&""!==this.editedDescription.trim()&&(this.updateMeetUpData({id:this.currentMeetup.id,title:this.editedTitle,description:this.editedDescription}),this.editDialog=!1)}}),props:["currentMeetup"]}),je=we,Ce=a("169a"),_e=Object(u["a"])(je,ge,be,!1,null,null,null),ye=_e.exports;m()(_e,{VBtn:f["a"],VCard:R["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:h["a"],VContainer:A["a"],VDialog:Ce["a"],VDivider:$["a"],VIcon:b["a"],VRow:q["a"],VSpacer:V["a"],VTextField:Z["a"],VTextarea:de["a"]});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"350px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticStyle:{"margin-right":"15px"},attrs:{fab:"",small:""}},s),[a("v-icon",[e._v("event")])],1)]}}]),model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}},[a("v-card",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-title",[e._v("Edit Meetup Date")])],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-date-picker",{staticStyle:{width:"100%"},model:{value:e.editedDate,callback:function(t){e.editedDate=t},expression:"editedDate"}},[[a("v-btn",{staticClass:"primary--text",attrs:{text:""},nativeOn:{click:function(t){e.editDialog=!1}}},[e._v("Cancel")]),a("v-btn",{staticClass:"primary--text",attrs:{text:""},nativeOn:{click:function(t){return e.onSaveChanges(t)}}},[e._v("Save")])]],2)],1)],1)],1)],1)],1)},xe=[],Ve={data:function(){return{editedDate:"",editDialog:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["updateMeetUpData"])),{},{onSaveChanges:function(){var e=new Date(this.meetupDate.date),t=new Date(this.editedDate).getDate(),a=new Date(this.editedDate).getMonth(),s=new Date(this.editedDate).getFullYear();e.setDate(t),e.setMonth(a),e.setFullYear(s),this.updateMeetUpData({id:this.meetupDate.id,date:e}),this.editDialog=!1}}),created:function(){this.editedDate=new Date(this.meetupDate.date).toISOString().substr(0,10)},props:["meetupDate"]},Ie=Ve,Me=Object(u["a"])(Ie,ke,xe,!1,null,null,null),Oe=Me.exports;m()(Me,{VBtn:f["a"],VCard:R["a"],VCardTitle:F["c"],VCol:h["a"],VContainer:A["a"],VDatePicker:oe["a"],VDialog:Ce["a"],VDivider:$["a"],VIcon:b["a"],VRow:q["a"]});var De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"350px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{fab:"",small:""}},s),[a("v-icon",[e._v("schedule")])],1)]}}]),model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}},[a("v-card",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-title",[e._v("Edit Meetup Time")])],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-time-picker",{staticStyle:{width:"100%"},model:{value:e.editedTime,callback:function(t){e.editedTime=t},expression:"editedTime"}},[[a("v-btn",{staticClass:"primary--text",attrs:{text:""},nativeOn:{click:function(t){e.editDialog=!1}}},[e._v("Cancel")]),a("v-btn",{staticClass:"primary--text",attrs:{text:""},nativeOn:{click:function(t){return e.onSaveChanges(t)}}},[e._v("Save")])]],2)],1)],1)],1)],1)],1)},Ue=[],Ee={data:function(){return{editedTime:"",editDialog:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["updateMeetUpData"])),{},{onSaveChanges:function(){var e=new Date(this.meetupTime.date),t=this.editedTime.match(/^(\d+)/)[1],a=this.editedTime.match(/:(\d+)/)[1];e.setHours(t),e.setMinutes(a),this.updateMeetUpData({id:this.meetupTime.id,date:e}),this.editDialog=!1}}),created:function(){this.editedTime=new Date(this.meetupTime.date)},props:["meetupTime"]},Te=Ee,Le=Object(u["a"])(Te,De,Ue,!1,null,null,null),Se=Le.exports;m()(Le,{VBtn:f["a"],VCard:R["a"],VCardTitle:F["c"],VCol:h["a"],VContainer:A["a"],VDialog:Ce["a"],VDivider:$["a"],VIcon:b["a"],VRow:q["a"],VTimePicker:me["a"]});var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"300px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({staticClass:"primary ml-2",attrs:{disabled:e.isParticipantsFull}},s),[e._v(e._s(e.userIsRegistered?"Unregister":"Register"))])]}}]),model:{value:e.registerDialog,callback:function(t){e.registerDialog=t},expression:"registerDialog"}},[a("v-card",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[e.userIsRegistered?a("v-card-title",[e._v("Unregister from Meetup?")]):a("v-card-title",[e._v("Register for Meetup?")])],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-text",[e._v("You can always change your decisions later on.")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-actions",[a("v-btn",{staticClass:"error",on:{click:function(t){e.registerDialog=!1}}},[e._v("Cancel")]),a("v-btn",{staticClass:"success",on:{click:e.onAgree}},[e._v("Confirm")])],1)],1)],1)],1)],1)],1)},Fe=[],Pe=(a("c740"),{data:function(){return{registerDialog:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["unregisterUserFromMeetup","registerUserForMeetup","updateMeetUpData"])),{},{onAgree:function(){this.userIsRegistered?(this.unregisterUserFromMeetup(this.meetupId),this.updateMeetUpData({id:this.meetupId,number:this.number+1})):(this.registerUserForMeetup(this.meetupId),this.updateMeetUpData({id:this.meetupId,number:this.number-1}))}}),computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["user"])),{},{userIsRegistered:function(){var e=this;return this.user.registeredMeetups.findIndex((function(t){return t===e.meetupId}))>=0},isParticipantsFull:function(){return this.number<0}}),props:["meetupId","number"]}),ze=Pe,Ae=Object(u["a"])(ze,Re,Fe,!1,null,null,null),$e=Ae.exports;m()(Ae,{VBtn:f["a"],VCard:R["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:h["a"],VContainer:A["a"],VDialog:Ce["a"],VDivider:$["a"],VRow:q["a"]});var He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[this.userComments.length>0&&!this.showCreatorEditor&&!this.showUpdateEditor?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h3",{staticClass:"primary--text"},[e._v(e._s(this.userComments.length)+" "+e._s(this.userComments.length>1?"Comments":"Comment"))]),e._l(e.userComments,(function(t){return a("v-card",{key:t.id,staticClass:"mb-4"},[a("v-toolbar",{attrs:{color:e.userIsCreator(t.email)?"deep-purple darken-1":"primary",dark:""}},[a("v-icon",{staticClass:"mr-2",attrs:{large:""}},[e._v("account_circle")]),a("v-toolbar-title",[e._v(e._s(t.email))]),a("v-spacer"),a("rating",{attrs:{commentId:t.id}}),e.userIsCreator(t.email)?a("v-menu",{attrs:{left:"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",r,!1),s),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[a("v-list",[a("deleteDialog",{attrs:{commentId:t.id,meetupId:e.meetupId}}),a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(a){return e.updateUserComments(t.message,t.id)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-pencil")]),e._v("Edit ")],1)],1)],1):e._e()],1),a("v-card-text",[a("span",{domProps:{innerHTML:e._s(t.message)}}),a("div",{staticClass:"bottomInfo"},[a("span",{staticClass:"dateInfo"},[e._v("Posted on: "+e._s(e._f("dataFormat")(t.date)))]),a("v-btn",{staticClass:"grey--text",attrs:{text:""}},[a("v-icon",{attrs:{light:""}},[e._v("reply")]),e._v("Reply ")],1)],1)])],1)}))],2)],1):e._e()],1)},Ye=[],qe=(a("5319"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"300px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{text:""}},s),[a("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v("Delete ")],1)]}}]),model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("v-card",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-title",[e._v("Do you want to delete this comment?")])],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-text",[e._v("This action cannot be reversed!")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-actions",[a("v-btn",{staticClass:"error",on:{click:function(t){e.deleteDialog=!e.deleteDialog}}},[e._v("Cancel")]),a("v-btn",{staticClass:"success",on:{click:e.deleteUserComments}},[e._v("Confirm")])],1)],1)],1)],1)],1)],1)}),Ge=[],Be={data:function(){return{deleteDialog:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["removeUserComments"])),{},{deleteUserComments:function(){var e=this,t=[];this.ratings.forEach((function(a){a.commentId===e.commentId&&t.push(a.id)}));var a={meetupId:this.meetupId,commentId:this.commentId,ratings:t};this.removeUserComments(a),this.deleteDialog=!this.deleteDialog}}),computed:Object(n["a"])({},Object(o["c"])(["ratings"])),props:["commentId","meetupId"]},Ne=Be,Ke=Object(u["a"])(Ne,qe,Ge,!1,null,null,null),We=Ke.exports;m()(Ke,{VBtn:f["a"],VCard:R["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:F["c"],VCol:h["a"],VContainer:A["a"],VDialog:Ce["a"],VDivider:$["a"],VIcon:b["a"],VRow:q["a"]});var Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"rating"},[a("v-rating",{attrs:{length:e.length,size:e.size},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-icon",{attrs:{color:t.isFilled?"red":"white"},on:{click:function(a){return e.handleRatingChange(t)}}},[e._v("mdi-heart")])]}}]),model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}}),e.totalRating>0?a("span",{staticClass:"value"},[e._v(e._s(e.totalRating))]):e._e()],1)},Je=[],Xe={data:function(){return{length:1,size:24,rating:0}},created:function(){var e=this;this.fetchUserRatings().then((function(t){if(void 0!==t&&null!==e.user){var a=t.findIndex((function(t){return t.commentId===e.commentId&&t.ratingUser===e.user.email}));a>=0&&(e.rating=1)}}))},methods:Object(n["a"])({handleRatingChange:function(e){var t=this;if(null===this.user||void 0===this.user)return this.$router.push("/signin");if(e.isFilled){this.rating=0;var a=this.ratings.findIndex((function(e){return e.commentId===t.commentId&&e.ratingUser===t.user.email}));if(a<0)return;var s=this.ratings[a].id;this.deleteUserRatings(s)}else{if(this.ratings.findIndex((function(e){return e.commentId===t.commentId&&e.ratingUser===t.user.email}))>=0)return;this.rating=1;var r={commentId:this.commentId,ratingUser:this.user.email};this.updateRating(r)}}},Object(o["b"])(["updateRating","fetchUserRatings","deleteUserRatings"])),computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["user","ratings"])),{},{totalRating:function(){var e=this,t=[];return this.ratings.forEach((function(a){a.commentId===e.commentId&&t.push(a)})),t.length}}),props:["commentId"],watch:{props:function(e){console.log(e)}}},Ze=Xe,et=(a("df7d"),a("1d4d")),tt=Object(u["a"])(Ze,Qe,Je,!1,null,"00b12afe",null),at=tt.exports;m()(tt,{VIcon:b["a"],VRating:et["a"]});var st={data:function(){return{}},created:function(){this.setCurrentMeetupId(this.meetupId)},mounted:function(){this.fetchUserComments()},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["b"])(["fetchUserComments"])),Object(o["d"])(["setCurrentMeetupId","setCreatorEditor","setUpdateEditor","setUpdateMessage"])),{},{updateUserComments:function(e,t){this.setUpdateEditor(!this.showUpdateEditor);var a=e.replace(/<[^>]+>/g,"");this.setUpdateMessage({commentId:t,message:a})},userIsCreator:function(e){if(null!==this.user&&void 0!==this.user)return e===this.user.email}}),computed:Object(n["a"])({},Object(o["c"])(["user","userComments","showCreatorEditor","showUpdateEditor"])),components:{deleteDialog:We,rating:at},props:["meetupId"]},rt=st,it=(a("6897"),a("e449")),nt=Object(u["a"])(rt,He,Ye,!1,null,"93c9ffe0",null),ot=nt.exports;m()(nt,{VBtn:f["a"],VCard:R["a"],VCardText:F["b"],VCol:h["a"],VIcon:b["a"],VList:w["a"],VMenu:it["a"],VRow:q["a"],VSpacer:V["a"],VToolbar:I["a"],VToolbarTitle:M["b"]});var ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showCreatorEditor?a("div",[a("h3",{staticClass:"primary--text"},[e._v("Leave Your Comment Here")]),a("editor",{attrs:{"api-key":"ahabxqr43fm6zvwbxlghutxzgbeagm9ixhyt6rjr5kfkv2h9",init:{height:200,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount","save"],toolbar:"undo redo | formatselect | bold italic backcolor |          alignleft aligncenter alignright alignjustify |          bullist numlist outdent indent | removeformat | help"}},model:{value:e.msg,callback:function(t){e.msg=t},expression:"msg"}}),a("br"),a("v-btn",{staticClass:"primary mr-3",on:{click:e.postComment}},[e._v("Post")]),a("v-btn",{staticClass:"error",on:{click:function(t){return e.setCreatorEditor(!e.showCreatorEditor)}}},[e._v("Cancel")]),a("div",{staticClass:"text-center ma-2"},[a("v-snackbar",{scopedSlots:e._u([{key:"action",fn:function(t){var s=t.attrs;return[a("v-btn",e._b({attrs:{color:"pink",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v("Close")])]}}],null,!1,785509422),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")])],1)],1):e._e()},lt=[],ut=(a("45fc"),a("ca72")),dt={data:function(){return{msg:"",date:new Date,snackbar:!1,text:""}},created:function(){this.setCurrentMeetupId(this.meetupId)},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["d"])(["setCreatorEditor","setCurrentMeetupId"])),Object(o["b"])(["createComment"])),{},{postComment:function(){if(0===this.msg.length)return this.snackbar=!0,void(this.text="The content cannot be empty!");if(this.userAlreadyComment())return this.snackbar=!0,void(this.text="You have alreay commented!");var e={message:this.msg,date:this.date,email:this.user.email};this.createComment(e),this.setCreatorEditor(!this.showCreatorEditor)},userAlreadyComment:function(){var e=this;return this.userComments.some((function(t){return t.email===e.user.email}))}}),components:{Editor:ut["a"]},props:["meetupId","message"],computed:Object(n["a"])({},Object(o["c"])(["user","userComments","showCreatorEditor"]))},mt=dt,pt=a("2db4"),vt=Object(u["a"])(mt,ct,lt,!1,null,null,null),ft=vt.exports;m()(vt,{VBtn:f["a"],VSnackbar:pt["a"]});var ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",{staticClass:"primary--text"},[e._v("Update Your Comment Here")]),a("editor",{attrs:{"api-key":"ahabxqr43fm6zvwbxlghutxzgbeagm9ixhyt6rjr5kfkv2h9",init:{height:200,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount","save"],toolbar:"undo redo | formatselect | bold italic backcolor |          alignleft aligncenter alignright alignjustify |          bullist numlist outdent indent | removeformat | help"}},model:{value:e.msg,callback:function(t){e.msg=t},expression:"msg"}}),a("br"),a("v-btn",{staticClass:"primary mr-3",on:{click:function(t){return e.updateComment()}}},[e._v("Update")]),a("v-btn",{staticClass:"error",on:{click:function(t){return e.setUpdateEditor(!e.showUpdateEditor)}}},[e._v("Cancel")]),a("div",{staticClass:"text-center ma-2"},[a("v-snackbar",{scopedSlots:e._u([{key:"action",fn:function(t){var s=t.attrs;return[a("v-btn",e._b({attrs:{color:"pink",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")])],1)],1)},gt=[],bt={data:function(){return{msg:"",date:new Date,snackbar:!1,text:"",commentId:""}},created:function(){this.setCurrentMeetupId(this.meetupId),this.msg=this.updateMessage.message,this.commentId=this.updateMessage.commentId},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["d"])(["setUpdateEditor","setCurrentMeetupId"])),Object(o["b"])(["updateUserComments"])),{},{updateComment:function(){if(0===this.msg.length)return this.snackbar=!0,void(this.text="The content cannot be empty!");var e={date:this.date.toISOString(),message:this.msg};this.updateUserComments(e),this.setUpdateEditor(!this.showUpdateEditor)}}),components:{Editor:ut["a"]},props:["meetupId"],computed:Object(n["a"])({},Object(o["c"])(["user","userComments","showUpdateEditor","updateMessage"]))},wt=bt,jt=Object(u["a"])(wt,ht,gt,!1,null,null,null),Ct=jt.exports;m()(jt,{VBtn:f["a"],VSnackbar:pt["a"]});var _t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%",height:"100%"}},[a("div",{ref:"basicMapbox",style:e.mapSize})])},yt=[],kt=a("e192"),xt=a.n(kt),Vt={data:function(){return{}},mounted:function(){this.init()},methods:{init:function(){xt.a.accessToken="pk.eyJ1IjoibWljaGFlbDEwIiwiYSI6ImNrN2NyMjFndDA2eWYzbG96Yjh5dXlqajQifQ.YenjA5L-qhtHKcbwTGd0Qg";var e=new xt.a.Map({container:this.$refs.basicMapbox,style:"mapbox://styles/mapbox/streets-v11",center:[this.lon,this.lat],zoom:10});(new xt.a.Marker).setLngLat([this.lon,this.lat]).addTo(e),e.addControl(new xt.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),e.addControl(new xt.a.NavigationControl)}},computed:{mapSize:function(){var e={width:this.mapWidth,height:this.mapHeight};return e}},props:["mapWidth","mapHeight","lon","lat"]},It=Vt,Mt=(a("eb9d"),Object(u["a"])(It,_t,yt,!1,null,"9b7207ec",null)),Ot=Mt.exports,Dt={data:function(){return{}},methods:Object(n["a"])(Object(n["a"])({},Object(o["d"])(["setCreatorEditor"])),{},{userIsAuthenticated:function(){if(null!==this.user&&void 0!==this.user)return!0},userIsCreator:function(){if(this.userIsAuthenticated())return this.user.id===this.meetup.creatorid}}),props:["id"],computed:Object(n["a"])({meetup:function(){return this.loadedMeetup(this.id)}},Object(o["c"])(["user","loading","showCreatorEditor","showUpdateEditor","loadedMeetup"])),components:{editMeetUp:ye,editMeetupDate:Oe,editMeetupTime:Se,registerMeetup:$e,comment:ot,editor:ft,updateEditor:Ct,mapbox:Ot}},Ut=Dt,Et=(a("77de"),a("e0c7")),Tt=Object(u["a"])(Ut,fe,he,!1,null,"4257e1a8",null),Lt=Tt.exports;m()(Tt,{VBtn:f["a"],VCard:R["a"],VCardActions:F["a"],VCardTitle:F["c"],VCol:h["a"],VContainer:A["a"],VDivider:$["a"],VIcon:b["a"],VImg:J["a"],VListItem:j["a"],VListItemContent:C["a"],VListItemIcon:y["a"],VListItemTitle:C["c"],VProgressCircular:Y["a"],VRow:q["a"],VSpacer:V["a"],VSubheader:Et["a"]});var St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.userIsAuthenticated()?a("v-container",[e.loading?a("v-row",[a("v-col",{attrs:{cols:"12",align:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"primary",width:7,size:70}})],1)],1):a("v-row",{staticClass:"fill-height"},[a("v-col",[a("v-sheet",{attrs:{height:"64"}},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v("Today")]),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.prev}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.next}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),e.$refs.calendar?a("v-toolbar-title",[e._v(e._s(e.$refs.calendar.title))]):e._e(),a("v-spacer"),a("v-menu",{attrs:{bottom:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",r,!1),s),[a("span",[e._v(e._s(e.typeToLabel[e.type]))]),a("v-icon",{attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}],null,!1,1298851721)},[a("v-list",[a("v-list-item",{on:{click:function(t){e.type="month"}}},[a("v-list-item-title",[e._v("Month")])],1),a("v-list-item",{on:{click:function(t){e.type="week"}}},[a("v-list-item-title",[e._v("Week")])],1),a("v-list-item",{on:{click:function(t){e.type="day"}}},[a("v-list-item-title",[e._v("Day")])],1)],1)],1)],1)],1),a("v-sheet",{attrs:{height:"650"}},[a("v-calendar",{ref:"calendar",attrs:{now:e.today,type:e.type,"event-color":e.getEventColor,color:"pink lighten-2",events:e.events},on:{"click:date":e.viewDay,"click:event":e.showEvent},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),a("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[a("v-card",{attrs:{color:"grey lighten-4","min-width":"400px",flat:""}},[a("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[a("v-btn",{attrs:{icon:""},on:{click:e.edit}},[a("v-icon",[e._v("mdi-pencil")])],1),a("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}}),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-heart")])],1)],1),a("v-card-text",[a("span",{domProps:{innerHTML:e._s(e.selectedEvent.details)}})]),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.selectedOpen=!1}}},[e._v("Cancel")])],1)],1)],1)],1)],1)],1)],1):e._e()},Rt=[],Ft=(a("99af"),a("c1df")),Pt=a.n(Ft),zt={data:function(){return{today:(new Date).toISOString().substr(0,10),focus:(new Date).toISOString().substr(0,10),type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day"},events:[],color:"",selectedEvent:{},selectedElement:null,selectedOpen:!1,dialog:!1}},created:function(){var e=this;null!==this.user&&void 0!==this.user&&(this.retrieveRegisteredMeetups(),this.fetchCreatorMeetups(this.user.id),setTimeout((function(){e.loadMeetups()}),1e3))},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["loading","user","creatorMeetups","registeredMeetupInfo"])),{},{meetup:function(){return this.registeredMeetupInfo.concat(this.creatorMeetups)}}),methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["retrieveRegisteredMeetups","fetchCreatorMeetups"])),{},{userIsAuthenticated:function(){return null!==this.user&&void 0!==this.user},getEventColor:function(e){return e.color},setToday:function(){this.focus=(new Date).toISOString().substr(0,10)},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},showEvent:function(e){var t=this,a=e.nativeEvent,s=e.event,r=function(){t.selectedEvent=s,t.selectedElement=a.target,setTimeout((function(){return t.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(r,10)):r(),a.stopPropagation()},endTime:function(e){var t=new Date(this.meetup[e].date),a=t.getHours()+2;return t.setHours(a),t},loadMeetups:function(){var e=this;this.meetup.forEach((function(t,a){e.events.push({id:t.id,name:t.title,start:Pt()(t.date).format("YYYY-MM-DD HH:mm"),end:Pt()(e.endTime(a)).format("YYYY-MM-DD HH:mm"),details:t.description,creator:t.creatorid,color:t.creatorid===e.user.id?"deep-purple darken-1":"primary"})}))},edit:function(){this.selectedOpen=!1,this.$router.push("/gatherings/"+this.selectedEvent.id)}})},At=zt,$t=a("a4f6"),Ht=a("8dd9"),Yt=Object(u["a"])(At,St,Rt,!1,null,null,null),qt=Yt.exports;m()(Yt,{VBtn:f["a"],VCalendar:$t["a"],VCard:R["a"],VCardActions:F["a"],VCardText:F["b"],VCol:h["a"],VContainer:A["a"],VIcon:b["a"],VList:w["a"],VListItem:j["a"],VListItemTitle:C["c"],VMenu:it["a"],VProgressCircular:Y["a"],VRow:q["a"],VSheet:Ht["a"],VSpacer:V["a"],VToolbar:I["a"],VToolbarTitle:M["b"]});var Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6","offset-sm":"3"}},[a("h2",{staticClass:"primary--text mb-4"},[e._v("Create Account")]),e.error?a("alert",{attrs:{text:e.error.message},on:{dismissed:e.onDismissed}}):e._e(),a("v-card",{attrs:{outlined:""}},[a("v-container",[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.signUp()}},model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Email",rules:e.emailRules,"prepend-icon":"email",clearable:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.passwordRules.required,e.passwordRules.min],type:e.show1?"text":"password",name:"password",label:"Password",hint:"At least 6 characters",counter:"","prepend-icon":"lock",clearable:"",id:"password",autocomplete:"on"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",rules:[e.confirmedPasswordRules.required,e.confirmedPasswordRules.min,e.confirmedPasswordRules.passwordMatch],type:e.show2?"text":"password",name:"confirmedPassword",label:"Confirmed Password",hint:"At least 6 characters",counter:"","prepend-icon":"lock",clearable:"",id:"confirmedPassword",autocomplete:"on"},on:{"click:append":function(t){e.show2=!e.show2}},model:{value:e.confirmedPassword,callback:function(t){e.confirmedPassword=t},expression:"confirmedPassword"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",align:"center"}},[a("v-btn",{staticClass:"primary",attrs:{large:"",type:"submit",disabled:!e.isFormValid,loading:e.loading},on:{click:function(t){e.loader="loading"}}},[e._v("Sign Up")])],1)],1)],1)],1)],1)],1)],1)],1)},Bt=[],Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-alert",{attrs:{type:"error",dismissible:"",value:!0},on:{input:e.onClose}},[e._v(e._s(e.text))])},Kt=[],Wt={methods:{onClose:function(){this.$emit("dismissed")}},props:["text"]},Qt=Wt,Jt=a("0798"),Xt=Object(u["a"])(Qt,Nt,Kt,!1,null,null,null),Zt=Xt.exports;m()(Xt,{VAlert:Jt["a"]});var ea={data:function(){var e=this;return{isFormValid:!1,email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],show1:!1,password:"",passwordRules:{required:function(e){return!!e||"Password is required."},min:function(e){return e&&e.length>=6||"Min 6 characters"}},show2:!1,confirmedPassword:"",confirmedPasswordRules:{required:function(e){return!!e||"Password is required."},min:function(e){return e&&e.length>=6||"Min 6 characters"},passwordMatch:function(t){return t===e.password||"The password confimration does't match"}},loader:null}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["userSignUp","cleanError"])),{},{signUp:function(){this.isFormValid&&this.userSignUp({email:this.email,password:this.password})},onDismissed:function(){console.log("dismissed alert"),this.cleanError()}}),computed:Object(n["a"])({},Object(o["c"])(["error","user","loading"])),watch:{user:function(e){null!==e&&void 0!==e&&this.$router.push("/")}},components:{alert:Zt}},ta=ea,aa=Object(u["a"])(ta,Gt,Bt,!1,null,null,null),sa=aa.exports;m()(aa,{VBtn:f["a"],VCard:R["a"],VCol:h["a"],VContainer:A["a"],VForm:le["a"],VRow:q["a"],VTextField:Z["a"]});var ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6","offset-sm":"3"}},[a("h2",{staticClass:"primary--text mb-4"},[e._v("Login to Your Account")]),e.error?a("alert",{attrs:{text:e.error.message},on:{dismissed:e.onDismissed}}):e._e(),a("v-card",{attrs:{outlined:""}},[a("v-container",[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.signUp()}},model:{value:e.isFormValid,callback:function(t){e.isFormValid=t},expression:"isFormValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Email",rules:e.emailRules,"prepend-icon":"email",clearable:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":e.show?"mdi-eye":"mdi-eye-off",rules:[e.passwordRules.required,e.passwordRules.min],type:e.show?"text":"password",name:"password",label:"Password",hint:"At least 6 characters",counter:"","prepend-icon":"lock",clearable:"",id:"password",autocomplete:"on"},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("router-link",{attrs:{to:"/signup"}},[e._v("Register a New Account")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",align:"center"}},[a("v-btn",{staticClass:"primary",attrs:{large:"",type:"submit",disabled:!e.isFormValid,loading:e.loading},on:{click:function(t){e.loader="loading"}}},[e._v("Sign In")])],1)],1)],1)],1)],1)],1)],1)],1)},ia=[],na={data:function(){return{isFormValid:!1,email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],show:!1,password:"",passwordRules:{required:function(e){return!!e||"Password is required."},min:function(e){return e&&e.length>=6||"Min 6 characters"}}}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["userSignIn","cleanError"])),{},{signUp:function(){this.isFormValid&&this.userSignIn({email:this.email,password:this.password})},onDismissed:function(){console.log("dismissed alert"),this.cleanError()}}),computed:Object(n["a"])({},Object(o["c"])(["user","error","loading"])),watch:{user:function(e){null!==e&&void 0!==e&&this.$router.push("/")}},components:{alert:Zt}},oa=na,ca=Object(u["a"])(oa,ra,ia,!1,null,null,null),la=ca.exports;m()(ca,{VBtn:f["a"],VCard:R["a"],VCol:h["a"],VContainer:A["a"],VForm:le["a"],VRow:q["a"],VTextField:Z["a"]});var ua=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-container",{attrs:{"fill-height":"",fluid:""}},[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12",align:"center"}},[s("v-img",{staticClass:"errImg",attrs:{src:a("f6de"),contain:""}})],1),s("v-col",{attrs:{cols:"12",align:"center"}},[s("h2",{staticStyle:{"font-size":"40px"}},[s("strong",[e._v("Oops!")])]),s("p",{staticStyle:{"font-size":"30px"}},[e._v("This page is missing")]),s("v-btn",{staticClass:"primary",attrs:{large:"",to:"/"}},[e._v("Go to HomePage")])],1)],1)],1)],1)},da=[],ma=(a("bd23"),{}),pa=Object(u["a"])(ma,ua,da,!1,null,"54a7ea7b",null),va=pa.exports;m()(pa,{VBtn:f["a"],VCol:h["a"],VContainer:A["a"],VImg:J["a"],VRow:q["a"]});a("7db0"),a("b0c0"),a("1276");var fa=a("59ca"),ha=a.n(fa),ga=(a("ea7b"),a("66ce"),a("588e"),{state:{loadedMeetups:[]},mutations:{setLoadedMeetups:function(e,t){e.loadedMeetups=t},createMeetUp:function(e,t){e.loadedMeetups.push(t)},updateMeetup:function(e,t){var a=e.loadedMeetups.find((function(e){return e.id===t.id}));t.title&&(a.title=t.title),t.description&&(a.description=t.description),t.date&&(a.date=t.date),t.number>=0&&(a.number=t.number)}},actions:{retrieveMeetups:function(e){e.commit("setLoading",!0),fa["database"]().ref("meetups").once("value").then((function(t){var a=[],s=t.val();for(var r in s)a.push({id:r,title:s[r].title,description:s[r].description,location:s[r].location,longitude:s[r].longitude,latitude:s[r].latitude,number:s[r].number,imageurl:s[r].imageurl,date:s[r].date,creatorid:s[r].creatorid});e.commit("setLoadedMeetups",a),e.commit("setLoading",!1)})).catch((function(t){console.log(t),e.commit("setLoading",!1)}))},newCreateMeetUp:function(e,t){var a,s,r={title:t.title,location:t.location,longitude:t.longitude,latitude:t.latitude,number:10,description:t.description,date:t.date.toISOString(),creatorid:e.getters.user.id};fa["database"]().ref("meetups").push(r).then((function(e){return s=e.key,s})).then((function(e){var a=t.image.name,s=a.split(".").pop();return fa["storage"]().ref("meetups/"+e+"."+s).put(t.image)})).then((function(t){var i=fa["storage"]().ref("meetups").child(t.metadata.name);i.getDownloadURL().then((function(e){return a=e,fa["database"]().ref("meetups").child(s).update({imageurl:a})})).then((function(){e.commit("createMeetUp",Object(n["a"])(Object(n["a"])({},r),{},{id:s,imageurl:a}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},updateMeetUpData:function(e,t){e.commit("setLoading",!0);var a={};t.title&&(a.title=t.title),t.description&&(a.description=t.description),t.date&&(a.date=t.date),t.number>=0&&(a.number=t.number),fa["database"]().ref("meetups").child(t.id).update(a).then((function(){e.commit("setLoading",!1),e.commit("updateMeetup",t)})).catch((function(t){console.log(t),e.commit("setLoading",!1)}))}},getters:{loadedMeetups:function(e){return e.loadedMeetups.sort((function(e,t){return t.date.localeCompare(e.date)}))},featuredMeetups:function(e){return e.loadedMeetups.slice(0,5)},loadedMeetup:function(e){return function(t){return e.loadedMeetups.find((function(e){return e.id===t}))}}}}),ba=(a("a434"),a("ac16"),a("96cf"),a("1da1")),wa={state:{registeredMeetupInfo:[],creatorMeetups:[],user:null},mutations:{registerUserForMeetUp:function(e,t){var a=t.id;e.user.registeredMeetups.findIndex((function(e){}))>=0||(e.user.registeredMeetups.push(a),e.user.fbKeys[a]=t.fbKey)},unregisterUserFromMeetup:function(e,t){var a=e.user.registeredMeetups;a.splice(a.findIndex((function(e){return e===t})),1),Reflect.deleteProperty(e.user.fbKeys,t)},setRegisteredMeetups:function(e,t){e.registeredMeetupInfo=t},setCreatorMeetups:function(e,t){e.creatorMeetups=t},setUser:function(e,t){e.user=t}},actions:{registerUserForMeetup:function(e,t){e.commit("setLoading",!0);var a=e.getters.user;fa["database"]().ref("/users/"+a.id).child("registrations").push(t).then((function(a){e.commit("setLoading",!1),e.commit("registerUserForMeetUp",{id:t,fbKey:a.key})})).catch((function(t){e.commit("setLoading",!1),console.log(t)}))},unregisterUserFromMeetup:function(e,t){e.commit("setLoading",!0);var a=e.getters.user;if(a.fbKeys){var s=a.fbKeys[t];fa["database"]().ref("/users/"+a.id+"/registrations/").child(s).remove().then((function(){e.commit("setLoading",!1),e.commit("unregisterUserFromMeetup",t)})).catch((function(t){console.log(t),e.commit("setLoading",!1)}))}},retrieveRegisteredMeetups:function(e){e.commit("setLoading",!0);var t=e.getters.user,a=[];e.commit("setRegisteredMeetups",a),t&&fa["database"]().ref("/users/"+t.id+"/registrations/").once("value").then((function(t){var s=t.val();if(null!==s){var r=function(t){fa["database"]().ref("meetups").child(s[t]).once("value").then((function(r){var i=r.val();a.push({id:s[t],title:i.title,description:i.description,location:i.location,imageurl:i.imageurl,date:i.date,creatorid:i.creatorid}),e.commit("setRegisteredMeetups",a)})).catch((function(e){console.log(e)}))};for(var i in s)r(i);e.commit("setLoading",!1)}})).catch((function(t){e.commit("setLoading",!1),console.log(t)}))},fetchCreatorMeetups:function(e,t){e.commit("setLoading",!0),fa["database"]().ref("meetups").once("value").then((function(a){var s=a.val(),r=[];for(var i in s)s[i].creatorid===t&&r.push({id:i,title:s[i].title,description:s[i].description,location:s[i].location,imageurl:s[i].imageurl,date:s[i].date,creatorid:s[i].creatorid}),e.commit("setLoading",!1),e.commit("setCreatorMeetups",r)})).catch((function(t){console.log(t),e.commit("setLoading",!1)}))},userSignUp:function(e,t){return Object(ba["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit("setLoading",!0),e.commit("cleanError"),a.prev=2,a.next=5,fa["auth"]().createUserWithEmailAndPassword(t.email,t.password);case 5:s=a.sent,r=s.user,e.commit("setLoading",!1),i={id:r.uid,email:r.email,registeredMeetups:[],fbKeys:{}},e.commit("setUser",i),a.next=17;break;case 12:a.prev=12,a.t0=a["catch"](2),e.commit("setLoading",!1),e.commit("setError",a.t0),console.log(a.t0);case 17:case"end":return a.stop()}}),a,null,[[2,12]])})))()},userSignIn:function(e,t){return Object(ba["a"])(regeneratorRuntime.mark((function a(){var s,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit("setLoading",!0),e.commit("cleanError"),a.prev=2,a.next=5,fa["auth"]().signInWithEmailAndPassword(t.email,t.password);case 5:s=a.sent,r=s.user,e.commit("setLoading",!1),i={id:r.uid,email:r.email,registeredMeetups:[],fbKeys:{}},e.commit("setUser",i),a.next=17;break;case 12:a.prev=12,a.t0=a["catch"](2),e.commit("setLoading",!1),e.commit("setError",a.t0),console.log(a.t0);case 17:case"end":return a.stop()}}),a,null,[[2,12]])})))()},autoSignIn:function(e,t){e.commit("setUser",{id:t.uid,email:t.email,registeredMeetups:[],fbKeys:{}})},fetchUserData:function(e){e.commit("setLoading",!0),fa["database"]().ref("/users/"+e.state.user.id+"/registrations/").once("value").then((function(t){var a=t.val(),s=[],r={};for(var i in a)s.push(a[i]),r[a[i]]=i;var n={id:e.state.user.id,email:e.state.user.email,registeredMeetups:s,fbKeys:r};e.commit("setLoading",!1),e.commit("setUser",n)})).catch((function(t){console.log(t),e.commit("setLoading",!1)}))},logout:function(e){e.commit("setUser",null),fa["auth"]().signOut()}},getters:{user:function(e){return e.user},registeredMeetupInfo:function(e){return e.registeredMeetupInfo},creatorMeetups:function(e){return e.creatorMeetups}}},ja={state:{loading:!1,error:null},mutations:{setLoading:function(e,t){e.loading=t},setError:function(e,t){e.error=t},cleanError:function(e){e.error=null}},actions:{cleanError:function(e){e.commit("cleanError")}},getters:{loading:function(e){return e.loading},error:function(e){return e.error}}},Ca=(a("d3b7"),{state:{userComments:[],currentMeetupId:"",showCreatorEditor:!1,showUpdateEditor:!1,updateMessage:{},ratings:[]},mutations:{setCurrentMeetupId:function(e,t){e.currentMeetupId=t},createUserComment:function(e,t){e.userComments.push(t)},setUserComments:function(e,t){e.userComments=t},deleteUserComments:function(e,t){var a=e.userComments;a.splice(a.findIndex((function(e){return e.id===t})),1)},updateUserComment:function(e,t){var a=e.updateMessage.commentId,s=e.userComments.find((function(e){return e.id===a}));t.message&&(s.message=t.message),t.date&&(s.date=t.date)},setCreatorEditor:function(e,t){e.showCreatorEditor=t},setUpdateEditor:function(e,t){e.showUpdateEditor=t},setUpdateMessage:function(e,t){e.updateMessage={commentId:t.commentId,message:t.message}},createUserRatings:function(e,t){e.ratings.push(t)},setUserRatings:function(e,t){e.ratings=t},deleteUserRating:function(e,t){var a=e.ratings;a.splice(a.findIndex((function(e){return e.id===t})),1)}},actions:{createComment:function(e,t){var a={message:t.message,date:t.date.toISOString(),email:t.email},s=e.getters.currentMeetupId;fa["database"]().ref("/comments/"+s+"/details/").push(a).then((function(t){e.commit("createUserComment",Object(n["a"])(Object(n["a"])({},a),{},{id:t.key,meetupId:s}))})).catch((function(e){console.log(e)}))},fetchUserComments:function(e){var t=e.getters.currentMeetupId;fa["database"]().ref("/comments/"+t+"/details/").once("value").then((function(a){var s=[],r=a.val();for(var i in r)s.push({id:i,date:r[i].date,message:r[i].message,meetupId:t,email:r[i].email});e.commit("setUserComments",s)})).catch((function(e){console.log(e)}))},removeUserComments:function(e,t){var a=t.meetupId;fa["database"]().ref("/comments/"+a+"/details/").child(t.commentId).remove().then((function(){e.commit("deleteUserComments",t.commentId),t.ratings.forEach((function(t){fa["database"]().ref("/comments/"+a+"/ratings/").child(t).remove().then((function(){e.commit("deleteUserRating",t)})).catch((function(e){console.log(e)}))}))})).catch((function(e){console.log(e)}))},updateUserComments:function(e,t){var a={},s=e.getters.updateMessage.commentId;t.message&&(a.message=t.message),t.date&&(a.date=t.date);var r=e.getters.currentMeetupId;fa["database"]().ref("/comments/"+r+"/details/").child(s).update(a).then((function(){e.commit("updateUserComment",a)})).catch((function(e){console.log(e)}))},updateRating:function(e,t){var a=e.getters.currentMeetupId;fa["database"]().ref("/comments/"+a+"/ratings/").push(t).then((function(s){e.commit("createUserRatings",{id:s.key,ratingUser:t.ratingUser,commentId:t.commentId,meetupId:a})})).catch((function(e){console.log(e)}))},fetchUserRatings:function(e){return Object(ba["a"])(regeneratorRuntime.mark((function t(){var a,s,r,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.getters.currentMeetupId,s=fa["database"]().ref("/comments/"+a+"/ratings/"),t.next=4,s.once("value");case 4:if(r=t.sent,i=r.val(),n=[],null!==i){t.next=9;break}return t.abrupt("return");case 9:for(o in i)n.push({id:o,ratingUser:i[o].ratingUser,commentId:i[o].commentId,meetupId:a});return e.commit("setUserRatings",n),t.abrupt("return",new Promise((function(t){t(e.getters.ratings)})));case 12:case"end":return t.stop()}}),t)})))()},deleteUserRatings:function(e,t){var a=e.getters.currentMeetupId;fa["database"]().ref("/comments/"+a+"/ratings/").child(t).remove().then((function(){e.commit("deleteUserRating",t)})).catch((function(e){console.log(e)}))}},getters:{userComments:function(e){return e.userComments.sort((function(e,t){return t.date.localeCompare(e.date)}))},currentMeetupId:function(e){return e.currentMeetupId},showCreatorEditor:function(e){return e.showCreatorEditor},showUpdateEditor:function(e){return e.showUpdateEditor},updateMessage:function(e){return e.updateMessage},ratings:function(e){return e.ratings}}});s["a"].use(o["a"]);var _a=new o["a"].Store({modules:{meetup:ga,user:wa,shared:ja,comment:Ca}}),ya=_a,ka=function(e,t,a){ya.getters.user?a():a("/signin")};s["a"].use(U["a"]);var xa=[{path:"/",name:"Home",component:B},{path:"/gatherings",name:"Meetups",component:te},{path:"/newGathering",name:"CreateMeetup",component:ve,beforeEnter:ka},{path:"/gatherings/:id",name:"MeetupInfo",component:Lt,props:!0},{path:"/profile",name:"Profile",component:qt,beforeEnter:ka},{path:"/signup",name:"Signup",component:sa},{path:"/signin",name:"Signin",component:la},{path:"/404",name:"Error",component:va},{path:"*",redirect:"/404"}],Va=new U["a"]({mode:"hash",base:"",routes:xa}),Ia=Va,Ma=(a("d1e78"),a("f309"));s["a"].use(Ma["a"]);var Oa=new Ma["a"]({icons:{iconfont:"md"}}),Da=a("bc3a"),Ua=a.n(Da);s["a"].filter("dataFormat",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm";return Pt()(e).format(t)})),s["a"].prototype.$http=Ua.a,s["a"].config.productionTip=!1,ha.a.initializeApp({apiKey:"AIzaSyBaN7Pf8rMInyP9IpoloovEd29zmKHPnBY",authDomain:"meetup-2a651.firebaseapp.com",databaseURL:"https://meetup-2a651.firebaseio.com",projectId:"meetup-2a651",storageBucket:"meetup-2a651.appspot.com",messagingSenderId:"707460878522",appId:"1:707460878522:web:a0cbe60e29e0b19e693283"}),new s["a"]({router:Ia,store:ya,vuetify:Oa,render:function(e){return e(D)},created:function(){var e=this;ha.a.auth().onAuthStateChanged((function(t){t&&(e.$store.dispatch("autoSignIn",t),e.$store.dispatch("fetchUserData"))})),this.$store.dispatch("retrieveMeetups")}}).$mount("#app")},6897:function(e,t,a){"use strict";var s=a("2f61"),r=a.n(s);r.a},"768b":function(e,t,a){},"77de":function(e,t,a){"use strict";var s=a("2354"),r=a.n(s);r.a},"90b8":function(e,t,a){},"9aa2":function(e,t,a){},bd23:function(e,t,a){"use strict";var s=a("9aa2"),r=a.n(s);r.a},c926:function(e,t,a){},df7d:function(e,t,a){"use strict";var s=a("90b8"),r=a.n(s);r.a},e0c4:function(e,t,a){"use strict";var s=a("c926"),r=a.n(s);r.a},eb9d:function(e,t,a){"use strict";var s=a("768b"),r=a.n(s);r.a},f6de:function(e,t,a){e.exports=a.p+"img/error.0039451d.jpg"},fc4b:function(e,t,a){}});
//# sourceMappingURL=app.030b0c88.js.map